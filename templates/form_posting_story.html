<script src="https://cdn.ckeditor.com/ckeditor5/28.0.0/classic/ckeditor.js"></script>
<form method="POST">
    {% csrf_token %}
    <div class="form-group">
      <input required type="text" value="{% if story %} {{story.title}}  {% endif %}" class="form-control" name="title" id="exampleFormControlInput1" placeholder="Judul Cerita">
    </div>
    <div id="tag-form-group" class="form-group">
      <label for="tags">Tags</label>
      <div id="input-tag-list">
        {% if story %}
          {%for tag in story.tags%}
            <div id="tag-{{forloop.counter}}" class="input-tag mt-1">
              <!-- <input required type="text" class="form-control input-tags" value="{{tag.name}}" name="tag[]" placeholder="Tagar cerita ..."> -->
              {% include 'input_tag.html' %}
              <button type="button" onclick="deleteTag(this)" data-tag="tag-{{forloop.counter}}" class="btn btn-danger ml-1 delete-tag"><i class="fas fa-trash"></i></button>
            </div>
          {%endfor%}
        {%else %} 
          {% include 'input_tag.html' %}
        {% endif %}
      </div>
      <button type="button" class="btn btn-primary mt-1" id="add-tag">Tambah tag</button>
    </div>
    <div class="form-group">
      <textarea class="form-control" name="content" id="textarea" rows="50">{% if story %}{{story.content}}{% endif %}</textarea>
    </div>
    <div class="form-group" style="text-align: right;">
      <button type="submit" class="btn btn-primary">Submit</button>
    </div>
  </form>
  <!-- <script>
    ClassicEditor.builtinPlugins.map( plugin => console.log("plugin",plugin.pluginName));
  </script> -->
  <script>
    ClassicEditor
        // .create( document.querySelector( '#textarea'),{
        //   removePlugins: [ "Image" ],
        // } )
        .create( document.querySelector( '#textarea'),{
          toolbar: [ 'heading','bold', 'italic', 'link', 'undo', 'redo', 'numberedList', 'bulletedList' ],
          heading: {
            options: [
                { model: 'paragraph', title: 'Paragraph', class: 'ck-heading_paragraph' },
                { model: 'heading1', view: 'h1', title: 'Heading 1', class: 'ck-heading_heading1' },
                { model: 'heading2', view: 'h2', title: 'Heading 2', class: 'ck-heading_heading2' },
                { model: 'heading3', view: 'h3', title: 'Heading 3', class: 'ck-heading_heading3' },
                { model: 'heading4', view: 'h4', title: 'Heading 4', class: 'ck-heading_heading4' },
                { model: 'heading5', view: 'h5', title: 'Heading 5', class: 'ck-heading_heading5' },
            ]
        }
        })
        .catch( error => {
            console.error( error );
        } );
  </script>
